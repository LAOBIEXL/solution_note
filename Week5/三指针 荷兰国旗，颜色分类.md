![[Pasted image 20251020092316.png]]


三指针：
在双指针的基础上，增加一个指针；

现在有：
left：指向1区的最后一个元素；
i：循环指针；
right：指向3区的最前面的元素；

 1 区  |   2区    | 待排序区（这里与双指针原理相同）| 3区

1. 如果i循环到的元素属于1区：
```cpp
swap(nums[++left],nums[i++]);
```

2. 如果循环到的元素属于2区：
```cpp
i++;
```

3. 如果循环到的元素属于3区：
```cpp
首先要将i位置元素和--right位置元素互换，但是由于换过来的元素属于未扫描过的元素，如果此时仍然i++，就会错误得将未扫描元素归到2区

swap(nums[--right],nums[i]);
```

**此外由于不是所有情况都会i++，所以使用while循环，循环终止的条件是：**
**i < right;**

==需要特别注意的是==
对于三个指针的初始化：
```cpp
int i = 0 //从第一个元素开始扫描；
int left = -1;最开始1区的长度置零；
int right = a.size() ; 注意不是size() - 1；因为初始区间长度是零；
```

注意，分界截止条件应该设置为i < right，如果包括等于，那么就会最后在相等时执行交换；

# 题解
```cpp
class Solution {

public:

    void sortColors(vector<int>& nums) {

       int left = -1, right = nums.size() ;

       int i = 0;

       while(i < right)

       {

            if(nums[i] == 0)

            {

                swap(nums[++left],nums[i++]);

            }

            else if(nums[i] == 2)

            {

                swap(nums[--right],nums[i]);

            }

            else

            {

                i++;

            }

       }

        }

    };
```